# 第五章 集合

含有一个元素的集合称为**单元集**，例如 $\{\empty\}$

含有$n$个元素的集合称为$n$元集

由集合$A$的所有子集构成的集合称为$A$的幂集，记为$\rho(A)$

有穷集$A$的元素个数称为$A$的基数，记为$\#A$



- **定理：$\#\rho(A)=2^{\#A}$**

- $\rho(A)\cup\rho(B)\subseteq{\rho(A \cup B)}$

- $\rho(A)\cap\rho(B)=\rho(A\cap B)$
- $\rho(A-B)\subseteq{\rho(A)-\rho(B)}\cup\{\empty\}$



如果集合$A$中的每个元素都是集合，称$A$为集合的**聚合**，或者**集合族**

设$C$是一个集合的聚合，如果$C$中很合的两个不同的元素都是不相交的，则称这个聚合是**不相交**的聚合，不相交聚合的元素称为互不相交的元素



$A$和$B$的对称差集的定义如下：

$A+B=\{x|x\in{A} \oplus x \in B\}$

也就是不同时在$A$和$B$当中的所有元素构成的集合



集合恒等式的两个证明方法

- 证明 $x\in A\Leftrightarrow x \in B$
- 证明$A \subseteq B $ 并且 $B \subseteq A$
- 用其他的恒等式进行推演



**定理**：

- $B = \thicksim A$ 当且仅当$A \cup B = U$ 和 $A \cap B = \empty$

- 此四条件等价：
  - $A \subseteq B$
  - $A \cup B = B$
  - $A \cap B = A$
  - $A - B = \empty$



 **广义并和广义交**

设$A$是全集$U$的子集的聚合。

- $A$的**所有元素的并集**为：

  $$\cup A = \{x|\exist a (a \in A \and x \in a)\}$$

- 若$A \neq \empty$，$A$的**所有元素的交集**为

  $\cap A = \{x|\forall a (a \in A \rightarrow x \in a) \}$



**有穷集的计数原理**

设$A$和$B$是两个不相交的有穷集，则$\#(A \cup B) = \# A + \# B$



**定理**：

- 若$A$和$B$都是有穷集，那么

  $\#(A \cup B) = \#A + \#B - \#(A \cap B)$



**集合的归纳定义法**

三个部分：

- **基础语句** 直接规定部分对象是该集合的元素
- **归纳语句** 规定由已知元素得到新元素的方法
- **极限语句** 规定那些对象不是该集合的元素



> *这些乱七八糟的煞笔东西真的会考吗？*



**字母表**：符号的有穷非空集合，通常用 $\sum$ 来表示

**字符串** ：$\sum$ 上的**字或者串**

在字母表$\sum$上的字$x$和$y$的**连接**是将$y$接在$x$后面得到的字，记为$xy$

对于任意字$x$有$\varepsilon x = x \varepsilon = x$（$\varepsilon$大概是空字符串的意思吧）



$\sum^{*}$：$\sum$上字的集合

$\sum^{+}$：$\sum$上所有非空字的集合



显然有：$\sum^{+} = \sum^{*} - \{\varepsilon\}$



如果有$x \in \sum^{*}$ 并且 $n \in N$ 定义串$x^{n}$为

- $x^{0}=\varepsilon$

- $x^{n+1}=x^{n}x$



**定义**：

- 称$\sum^{*}$的子集为$\sum$上的**语言**

- $\sum$上语言$A$和$B$的乘积：

  $AB=\{xy|x \in A \and y \in B\}$

  （注意：乘积运算**满足结合律**，但是**不满足交换律**）

- 设$A \subseteq \sum^{*}$，$n \in N$，则$A^{n}$定义如下：
  - $A^{0} = \{\varepsilon\}$
  - $A^{n+1}=A^{n}A$



**定理**：

设$A,B\sube \sum^{*}$，$m$和$n$是自然数，则

- $A^{m}A^{n}=A^{m+n}$
- $(A^{n})^{m}=A^{mn}$
- 若$A\sube B$，则$A^{n} \sube B^{n}$



**定义**：

设$A$是$\sum^{*}$的子集，则集合$A^{*}$定义为：

- $A^{*}=\cup\{A^{n} | n是自然数\}$

$A^{*}$称为**星闭包**或者简称**闭包**



集合$A^{+}$定义为：

- $A^{+}=A^{1}\cup A^{2} \cup \dots = \cup_{n = 1} ^ {\infin} A^{n}$

集合$A^{+}$称为$A$的**正闭包**



显然$A^{*} = A^{+} \cup \{\varepsilon\}$



**笛卡尔乘积**：

```C++
std::pair<int, int> result;
// 有序偶
for(const auto& a : setA) {
    for(const auto& b : setB) {
        result.push_back({a, b});
    }
}
```



# 第六章 关系

所谓**关系**，就是任何有序偶的集合，这称为**二元关系**，简称为**关系**

```C++
std::set<std::pair<int, int>> relation;
```

**全域关系**：

​	$U_X=\{<x, y>|x \in X \and y \in X\}$

**空关系**：

​	$\empty$

**恒等关系**：

​	$I_X=\{<x, x> | x \in X\}$



定义域记为$dom(R)$ (domain of)

值域记为$ran(R)$ (range of)



**关系矩阵**：用矩阵表示非空有穷集合之间的关系



**关系图**：若$x_iRx_j$，那么就画一条从$x_i$到$x_j$的**有向**边



**关系的性质**：

- **自反的**：自己和自己有关系
  - **反自反的**：自己和自己一定没有关系
- **对称的**：我和你有关系，你和我也就有关系
  - **反对称的**：如果$x$和$y$有关系，并且反过来也一样，那么$x$和$y$只有可能是同一个对象（与对称不一定冲突）

- **传递的**：如果我和你有关系，你和他有关系，我也就和他有关系



$R$是**自反的**当且仅当$I_X \sube R$

$R$是**反自反的**当且仅当$I_X \cap R = \empty$

$R$是**对称的**当且仅当$R^{-1}=R$

$R$是**反对称的**当且仅当$R \cap R^{-1} \sube I_X$

$R$是**传递的**当且仅当$R \circ R \sube R$



在关系的运算中，将$X \times Y$看做全集

设$R$是从$X$到$Y$的关系，$S$是从$Y$到$Z$的关系，那么

​	$(R \circ S) ^{-1} = S^{-1} \circ R^{-1}$

（类似**函数**）



**闭包**的定义：

> 讲人话就是：$R$的某个性质的闭包就是包含$R$的最小的满足某个性质的关系，大一点可以，小了绝对不行。



**自反闭包**：$r(R)=R \cup I_X$

**对称闭包**：$s(R)=R \cup R^{-1}$

**传递闭包**：$t(R)=\cup_{n=1}^{\infin}R^{n}$

- 通过定理，我们可以简化传递闭包的计算

  $t(R) = \cup_{i=1}^{n}R^{i}$



**次序关系**：

如果$R$是非空集合$P$上：**自反的，反对称的，传递的**关系，那么就把$R$称为**偏序关系**或者**偏序**。（其实就类似于广义的单向比较关系）



**全序集**：

如果在偏序集$<P, \le>$上对于任意的$x, y \in P$我们都有$x \le y$或者$y \le x$当中至少一个成立，那么这个$\le$就称为$P$上的**全序**或者**线序**，并且把$<P, \le>$称为**全序集**或者**链**

> 人话：这个比较关系对于这个$P$上任意两个元素都是可比的，没有奇奇怪怪的类似问$1 \le i ?$ 这种的。



如果$R$是偏序，那么如果$R^{-1}$也是偏序，就把$R^{-1}$记为$\ge$，把两个偏序集$<P, \ge>$ 和 偏序集$<P, \le >$称为**相互对偶**的偏序集



**严格偏序集**：

**反自反的，传递**的关系，称为**严格偏序关系**或者**严格偏序**

> 类似于不同于$\le$的$\lt$



**遮盖**：

在偏序集上，对于任意两个元素$x, y \in P$如果有$x \lt y$并且没有中间的$z$使得$x\lt z$ 并且$z \lt y$那么就说$y$**遮盖**$x$，也称元素 $x$是$y$的**紧邻前元**

> 后面就是他，没别的



**哈斯图**：

如果$x \lt y$，那么$x$就要在$y$的下面，如果$x$刚好是$y$紧邻的前元，就要在$y$和$x$之间连一个**无向边**



- 注意：

  **省略自环，边的方向，不是紧邻的顶点之间的边**



**最与极**：

省流：以最大，极大为例：

​	极大：我**不确定大家是不是都比我小**，但是**找不到比我大的了**（可能是因为**不可比**）（不存在$x$使得$b \lt x$）

​	最大：我**非常确定大家都比我小**，因为**我和大家都能比较而且比较出来都是我比他们大**（$\forall x \in B, x \le b$）



**界和确界**：

省流：以上界，上确界为例：

​	上界：**所有的$x$都比我小**

​	上确界：**擦边球**，刚好满足上界的条件



**良序**   ~~麻油新作  GOOD ORDER~~

省流：在一个偏序集上**随便拿一坨出来都有最小的那个（最小元）**



- **全序集不一定是良序集**

- **良序集一定是全序集**
- **良序的逆关系未必是良序**（你可能可以找到最小，未必能找到最大）



**划分**：

省流：类似把一个集合切几刀（不能切空气，即不能划出来空集）

- 划分出来的块就是叫做**划分块**或者**块**
- 块的个数为划分的**秩**



**等价关系**：

**自反的，对称的，传递的**

> 人话：自己和自己一样，某些小团体内互相有关系，和别的小团体没有



- **同余关系/模等价关系**：

​	$x \equiv_m y$表示$x \% m = y \% m$，$\equiv_m$是整数集$I$上的一个等价关系



- **简化关系图**：

  省略**自环**，省略**边的方向**



- **等价类**：

  开头人话当中说的*小团体*。用$[x]_R$表示**由$x$所代表的等价类**（就是从一堆等价的当中选一个出来，反正都等价嘛）



- **商集**：

  设$R$是$X$的等价关系（$X$非空），那么$R$等价类的集合$\{[x]_R|x \in X\}$很明显是$X$的一个划分，我们把这个划分称为$X$模R的**商集**  ~~真TM抽象~~

  记为：$X / R$或者也可以记为$X (mod \ R)$



- **由划分确定等价关系**：

  如果$R$的定义是在划分$C$下，$x R y \Leftrightarrow \exist S(S \in C \and x \in S \and y \in S)$

  > 人话：划分在一块的互相之间有关系

​	那么，$R$是一个等价关系。



- **等价关系和划分的关系**：

  通过等价关系$R$可以得到一个商集$X / R$，由于商集在前面提到了，是一个划分，那么这个划分又可以确定一个**等价关系**（前面也说了，划分在一块的之间有关系）$R'$，可以知道：

  ​	$x R' y \Leftrightarrow x和y 在同一块中$。

​	事实上，$R'$，$R$是同一个关系。~~那你说nm呢~~